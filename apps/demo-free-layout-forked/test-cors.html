<!DOCTYPE html>
<html>
<head>
    <title>CORSæµ‹è¯•</title>
</head>
<body>
    <h1>å¥åº·çŠ¶å†µAPIæµ‹è¯•</h1>
    <button onclick="testAPI()">æµ‹è¯•API</button>
    <div id="result"></div>

    <script>
        async function testAPI() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = 'æ­£åœ¨æµ‹è¯•...';
            
            try {
                console.log('ğŸ” å¼€å§‹æµ‹è¯•API...');
                const response = await fetch('http://192.168.239.7:8080/api/endpoints/status');
                console.log('ğŸ” å“åº”çŠ¶æ€:', response.status);
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('ğŸ” APIæ•°æ®:', data);
                    
                    resultDiv.innerHTML = `
                        <h3>APIæµ‹è¯•æˆåŠŸ!</h3>
                        <p>æ€»ç›‘æ§æ•°: ${data.totalCount}</p>
                        <p>æ­£å¸¸: ${data.upCount}, å¼‚å¸¸: ${data.downCount}, æ£€æµ‹ä¸­: ${data.pendingCount}</p>
                        <p>Dashboard: <a href="${data.dashboardUrl}" target="_blank">${data.dashboardUrl}</a></p>
                        <h4>ç›‘æ§é¡¹:</h4>
                        <ul>
                            ${data.monitors.map(monitor => `
                                <li>
                                    <strong>${monitor.name}</strong> - ${monitor.status}
                                    <a href="${monitor.dashboardUrl}" target="_blank">[æŸ¥çœ‹è¯¦æƒ…]</a>
                                </li>
                            `).join('')}
                        </ul>
                    `;
                } else {
                    resultDiv.innerHTML = `<p style="color:red">APIè¯·æ±‚å¤±è´¥: ${response.status}</p>`;
                }
            } catch (error) {
                console.error('ğŸ” APIè¯·æ±‚é”™è¯¯:', error);
                resultDiv.innerHTML = `<p style="color:red">è¯·æ±‚é”™è¯¯: ${error.message}</p>`;
            }
        }
    </script>
</body>
</html> 