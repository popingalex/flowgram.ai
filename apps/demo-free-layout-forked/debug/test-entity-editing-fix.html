<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å®ä½“ç¼–è¾‘ä¿®å¤æµ‹è¯•</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
      }

      .test-section {
        background: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        padding: 20px;
        margin: 20px 0;
      }

      .test-step {
        background: white;
        border: 1px solid #e9ecef;
        border-radius: 4px;
        padding: 15px;
        margin: 10px 0;
      }

      .success {
        border-left: 4px solid #28a745;
        background: #d4edda;
      }

      .error {
        border-left: 4px solid #dc3545;
        background: #f8d7da;
      }

      .warning {
        border-left: 4px solid #ffc107;
        background: #fff3cd;
      }

      code {
        background: #f1f3f4;
        padding: 2px 6px;
        border-radius: 3px;
        font-family: "SFMono-Regular", Consolas, monospace;
      }

      .console-output {
        background: #2d3748;
        color: #e2e8f0;
        padding: 15px;
        border-radius: 4px;
        font-family: "SFMono-Regular", Consolas, monospace;
        font-size: 14px;
        white-space: pre-wrap;
        margin: 10px 0;
      }
    </style>
  </head>
  <body>
    <h1>ğŸ”§ å®ä½“ç¼–è¾‘ä¿®å¤æµ‹è¯•</h1>

    <div class="test-section">
      <h2>ğŸ¯ ä¿®å¤å†…å®¹</h2>
      <div class="test-step success">
        <h3>âœ… å·¥ä½œå‰¯æœ¬çŠ¶æ€è®¡ç®—</h3>
        <p>
          æ·»åŠ äº†
          <code>calculateWorkingCopyStatus</code> å‡½æ•°ï¼Œè‡ªåŠ¨è®¡ç®—å·¥ä½œå‰¯æœ¬çš„çŠ¶æ€ï¼š
        </p>
        <ul>
          <li><strong>new</strong>ï¼šæ–°å¢çš„å®ä½“</li>
          <li><strong>dirty</strong>ï¼šæœ‰ä¿®æ”¹çš„å®ä½“</li>
          <li><strong>saved</strong>ï¼šæœªä¿®æ”¹çš„å®ä½“</li>
        </ul>
      </div>

      <div class="test-step success">
        <h3>âœ… å®æ—¶çŠ¶æ€æ›´æ–°</h3>
        <p>æ‰€æœ‰å·¥ä½œå‰¯æœ¬æ›´æ–°å‡½æ•°ç°åœ¨éƒ½ä¼šï¼š</p>
        <ul>
          <li>è‡ªåŠ¨é‡æ–°è®¡ç®—çŠ¶æ€</li>
          <li>è¾“å‡ºè¯¦ç»†çš„è°ƒè¯•æ—¥å¿—</li>
          <li>ç¡®ä¿ç•Œé¢å®æ—¶å“åº”</li>
        </ul>
      </div>

      <div class="test-step success">
        <h3>âœ… é‡ç½®é€»è¾‘ä¿®å¤</h3>
        <p><code>resetWorkingCopy</code> ç°åœ¨ä¼šï¼š</p>
        <ul>
          <li>çœŸæ­£é‡ç½®æ•°æ®åˆ°åŸå§‹çŠ¶æ€</li>
          <li>æ­£ç¡®è®¡ç®—é‡ç½®åçš„çŠ¶æ€</li>
          <li>ä¿æŒæ–°å¢å®ä½“çš„ 'new' çŠ¶æ€</li>
        </ul>
      </div>
    </div>

    <div class="test-section">
      <h2>ğŸ§ª æµ‹è¯•æ­¥éª¤</h2>

      <div class="test-step">
        <h3>1. æµ‹è¯•æ–°å¢å®ä½“</h3>
        <ol>
          <li>æ‰“å¼€å®ä½“åˆ—è¡¨é¡µé¢</li>
          <li>ç‚¹å‡»"æ·»åŠ å®ä½“"æŒ‰é’®</li>
          <li>è§‚å¯Ÿæ§åˆ¶å°æ—¥å¿—</li>
          <li>å°è¯•ç¼–è¾‘å®ä½“IDå’Œåç§°</li>
        </ol>
        <p><strong>é¢„æœŸæ•ˆæœï¼š</strong></p>
        <ul>
          <li>è¾“å…¥æ¡†ä¿æŒç„¦ç‚¹</li>
          <li>çŠ¶æ€æ˜¾ç¤ºä¸º 'new'</li>
          <li>å®æ—¶å“åº”è¾“å…¥</li>
        </ul>
      </div>

      <div class="test-step">
        <h3>2. æµ‹è¯•æ·»åŠ å±æ€§</h3>
        <ol>
          <li>åœ¨å®ä½“è¡Œç‚¹å‡»"+"æŒ‰é’®æ·»åŠ å±æ€§</li>
          <li>è§‚å¯Ÿæ§åˆ¶å°æ—¥å¿—</li>
          <li>ç¼–è¾‘å±æ€§IDå’Œåç§°</li>
          <li>ä¿®æ”¹å±æ€§ç±»å‹</li>
        </ol>
        <p><strong>é¢„æœŸæ•ˆæœï¼š</strong></p>
        <ul>
          <li>å±æ€§ç«‹å³å‡ºç°åœ¨è¡¨æ ¼ä¸­</li>
          <li>è¾“å…¥æ¡†å¯ä»¥æ­£å¸¸ç¼–è¾‘</li>
          <li>çŠ¶æ€è‡ªåŠ¨å˜ä¸º 'dirty'</li>
        </ul>
      </div>

      <div class="test-step">
        <h3>3. æµ‹è¯•ç°æœ‰å®ä½“ç¼–è¾‘</h3>
        <ol>
          <li>ç¼–è¾‘ç°æœ‰å®ä½“çš„IDæˆ–åç§°</li>
          <li>è§‚å¯ŸçŠ¶æ€å˜åŒ–</li>
          <li>ç‚¹å‡»é‡ç½®æŒ‰é’®</li>
          <li>ç¡®è®¤æ•°æ®æ¢å¤åŸçŠ¶</li>
        </ol>
        <p><strong>é¢„æœŸæ•ˆæœï¼š</strong></p>
        <ul>
          <li>ä¿®æ”¹æ—¶çŠ¶æ€å˜ä¸º 'dirty'</li>
          <li>é‡ç½®åçŠ¶æ€å˜ä¸º 'saved'</li>
          <li>æ•°æ®æ­£ç¡®æ¢å¤</li>
        </ul>
      </div>
    </div>

    <div class="test-section">
      <h2>ğŸ” æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—</h2>
      <div class="test-step warning">
        <h3>âš ï¸ é‡è¦æç¤º</h3>
        <p>
          åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œè¯·æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„æ§åˆ¶å°æ ‡ç­¾é¡µï¼Œè§‚å¯Ÿä»¥ä¸‹æ—¥å¿—ï¼š
        </p>
        <div class="console-output">
          ğŸ¯ å¼€å§‹ç¼–è¾‘å®ä½“: xxx ç¼–è¾‘ID: yyy åˆå§‹çŠ¶æ€: new/saved ğŸ“
          æ›´æ–°å·¥ä½œå‰¯æœ¬å­—æ®µ: editingId field value æ–°çŠ¶æ€: dirty â•
          æ·»åŠ å±æ€§åˆ°å·¥ä½œå‰¯æœ¬: editingId æ–°å±æ€§ID: attrId æ–°çŠ¶æ€: dirty ğŸ”„
          é‡ç½®å·¥ä½œå‰¯æœ¬: editingId
        </div>
      </div>

      <div class="test-step">
        <h3>ğŸš¨ å¦‚æœä»æœ‰é—®é¢˜</h3>
        <p>å¦‚æœæµ‹è¯•ä¸­å‘ç°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š</p>
        <ul>
          <li>æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯</li>
          <li>å·¥ä½œå‰¯æœ¬çŠ¶æ€æ˜¯å¦æ­£ç¡®è®¡ç®—</li>
          <li>Reactç»„ä»¶æ˜¯å¦é‡æ–°æ¸²æŸ“</li>
          <li>è¾“å…¥æ¡†ç„¦ç‚¹æ˜¯å¦ä¸¢å¤±</li>
        </ul>
      </div>
    </div>

    <div class="test-section">
      <h2>ğŸ”— å¿«é€Ÿé“¾æ¥</h2>
      <p>
        <a
          href="http://localhost:3000/#entity-list"
          target="_blank"
          style="
            display: inline-block;
            background: #007bff;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 4px;
          "
        >
          ğŸ“ æ‰“å¼€å®ä½“åˆ—è¡¨é¡µé¢
        </a>
      </p>
      <p style="color: #6c757d; font-size: 14px">
        ç¡®ä¿å¼€å‘æœåŠ¡å™¨åœ¨ localhost:3000 è¿è¡Œ
      </p>
    </div>
  </body>
</html>
