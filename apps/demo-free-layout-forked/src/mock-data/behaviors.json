[
  {
    "id": "api_weather_query",
    "name": "API天气查询",
    "type": "remote",
    "exp": "api.call('weather/query', { location: $location, date: $date })",
    "deprecated": false,
    "output": {
      "id": "$return",
      "type": "object",
      "desc": "WeatherInfo",
      "required": false
    },
    "inputs": [
      {
        "id": "location",
        "type": "string",
        "desc": "位置",
        "required": true
      },
      {
        "id": "date",
        "type": "string",
        "desc": "日期",
        "required": false
      }
    ]
  },
  {
    "id": "drain_device.simulate",
    "name": "排水设备模拟",
    "type": "local",
    "exp": "com.flowgram.devices.DrainDevice.simulate($context, $instance)",
    "deprecated": false,
    "output": {
      "id": "$return",
      "type": "void",
      "desc": "void",
      "required": false
    },
    "inputs": [
      {
        "id": "context",
        "type": "Context",
        "desc": "Context",
        "required": false
      },
      {
        "id": "instance",
        "type": "InstanceIO",
        "desc": "InstanceIO",
        "required": false
      }
    ]
  },
  {
    "id": "traffic_control_script",
    "name": "交通管制脚本",
    "type": "custom",
    "exp": "function(maxSpeed, vehicles) {\n  return vehicles.filter(v => v.speed <= maxSpeed)\n    .map(v => ({ id: v.id, status: 'controlled' }));\n}",
    "deprecated": false,
    "output": {
      "id": "$return",
      "type": "object",
      "desc": "ControlResult",
      "required": false
    },
    "inputs": [
      {
        "id": "maxSpeed",
        "type": "number",
        "desc": "最大限速",
        "required": true
      },
      {
        "id": "vehicles",
        "type": "array",
        "desc": "车辆列表",
        "required": true
      }
    ]
  }
]
