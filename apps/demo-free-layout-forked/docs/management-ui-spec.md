# 管理界面设计规范

## 概述

管理类界面采用统一的设计模式，提供一致的用户体验。所有管理页面都遵循"通用框架 + 差异化内容"的设计原则。

## 一、通用功能架构

### 1.1 整体布局
- **布局模式**：顶部导航 + 左侧列表 + 右侧详情的三栏式布局
- **组件实现**：`DataManagementLayout`
- **适用范围**：所有管理页面（实体、模块、系统、行为）

### 1.2 顶部导航栏
- **内容**：Logo + 应用名称 + 主菜单 + 用户操作区
- **一致性**：所有页面完全一致
- **组件**：应用级Nav组件

### 1.3 左侧列表面板
- **组件实现**：`DataListSidebar`
- **通用结构**：
  - 操作栏：搜索框 + 添加按钮(+) + 刷新按钮(↻)
  - 项目列表：统一的列表项样式

#### 列表项通用样式规范
```
┌─────────────────────────────────────┐
│ [主要ID/标识符]              [标签] │
│ 次要名称/描述                       │
│ [选中状态：蓝色背景]                │
└─────────────────────────────────────┘
```

- **主要信息**：ID或标识符（如 `base_forest_plot`）
- **次要信息**：可读名称或描述（如 `基础森林地块`）
- **状态标识**：选中时蓝色背景高亮
- **右侧标签**：关键数量信息（模块数、属性数、请求方法等）

### 1.4 右侧详情面板
- **组件实现**：`DetailPanel`
- **通用操作**：右上角固定操作按钮组
  - 保存按钮：主要操作，蓝色
  - 撤销按钮：次要操作，灰色
  - 删除按钮：危险操作，红色

#### 操作按钮规范
```
                    [保存] [撤销] [删除]
                      ↑      ↑      ↑
                   primary  default danger
```

### 1.5 通用交互模式
- **CRUD支持**：创建、读取、更新、删除
- **状态管理**：新建、编辑、已保存状态
- **数据同步**：自动刷新、状态同步
- **用户反馈**：Toast提示、确认对话框

## 二、差异化功能设计

### 2.1 实体管理 (Entity Management)
**核心目的**：组合与装配 - 将预定义模块组装成实体

#### 专属功能
- **基础信息**：ID、名称、描述编辑
- **实体属性**：键值对列表，自定义属性
- **关联模块**：复选框列表，选择与关联操作

#### 交互特点
- **选择导向**：通过勾选/取消勾选关联模块
- **组合逻辑**：实体 = 基础属性 + 选中的模块集合

### 2.2 模块管理 (Module Management)
**核心目的**：定义与封装 - 创建可复用的功能模块

#### 专属功能
- **基础信息**：ID、名称、描述编辑
- **模块属性**：可编辑表格，定义内部属性
- **嵌套模块**：关联其他模块，实现模块复用

#### 交互特点
- **创建导向**：增删改查属性定义
- **封装逻辑**：模块 = 属性定义 + 嵌套模块

### 2.3 系统管理 (System Management)
**核心目的**：声明与逻辑 - 定义系统处理的组件类型

#### 专属功能
- **执行类型**：下拉选择运行方式
- **系统参与者**：静态信息表格，声明组件依赖
- **参数配置**：系统级参数设置

#### 交互特点
- **声明导向**：静态信息展示和配置
- **依赖逻辑**：系统 = 执行配置 + 组件声明

### 2.4 行为管理 (Behavior Management)
**核心目的**：接口定义与测试 - 管理外部API接口

#### 专属功能
- **接口定义**：URL、方法、名称配置
- **参数定义**：标签页区分Body、描述等
- **API测试工具**：发送请求、测试连接、响应显示

#### 交互特点
- **测试导向**：交互式调试工具
- **接口逻辑**：行为 = 接口定义 + 参数配置 + 测试验证

## 三、技术实现规范

### 3.1 组件层次结构
```
App
├── DataManagementLayout (通用布局)
│   ├── Header (通用头部)
│   ├── DataListSidebar (通用侧边栏)
│   │   ├── SearchBar (搜索栏)
│   │   ├── ActionButtons (操作按钮)
│   │   └── ItemList (项目列表)
│   └── DetailPanel (通用详情面板)
│       ├── ActionButtons (操作按钮)
│       └── ContentArea (差异化内容区域)
└── SpecificContent (各页面专属内容)
    ├── EntityDetail (实体详情)
    ├── ModuleDetail (模块详情)
    ├── SystemDetail (系统详情)
    └── BehaviorDetail (行为详情)
```

### 3.2 数据流设计
- **状态管理**：各页面独立的Store + 通用的UI状态
- **API抽象**：统一的CRUD接口 + 专属的业务接口
- **路由管理**：统一的路由模式 + 页面特定参数

### 3.3 扩展性设计
- **通用组件**：高度可配置，支持自定义渲染
- **差异化内容**：通过props注入，保持解耦
- **新页面添加**：遵循现有模式，快速集成

## 四、设计原则

### 4.1 一致性原则
- 相同功能在不同页面保持一致的交互方式
- 统一的视觉样式和布局规范
- 标准化的操作反馈和错误处理

### 4.2 差异化原则
- 根据业务特点设计专属功能
- 保持核心交互模式的独特性
- 避免功能同质化

### 4.3 可扩展性原则
- 通用组件支持高度定制
- 新增页面类型时最小化代码重复
- 保持架构的灵活性和可维护性

## 五、实现清单

### 5.1 已完成
- ✅ DataManagementLayout 通用布局
- ✅ DataListSidebar 通用侧边栏
- ✅ DetailPanel 通用详情面板
- ✅ BaseManagementPage 通用页面基类
- ✅ 实体管理页面实现
- ✅ 模块管理页面实现
- ✅ 系统管理页面实现

### 5.2 待优化
- 🔄 列表项样式标准化
- 🔄 操作按钮布局优化
- 🔄 行为管理API测试工具完善
- 🔄 响应式布局适配

### 5.3 扩展方向
- 📋 批量操作支持
- 📋 高级搜索和过滤
- �� 数据导入导出
- 📋 操作历史记录 